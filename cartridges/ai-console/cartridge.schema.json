{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "ai-console.cartridge.schema.json",
  "title": "AI Console Cartridge Schema",
  "type": "object",
  "required": ["_meta", "cartridge"],
  "properties": {
    "_meta": {
      "type": "object",
      "required": ["name", "version"],
      "properties": {
        "name": { "type": "string" },
        "version": { "type": "string", "pattern": "^\\d+\\.\\d+\\.\\d+$" }
      }
    },
    "cartridge": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": { "type": "string", "const": "ai-console" },
        "name": { "type": "string" },
        "icon": { "type": "string" }
      }
    },
    "features": {
      "type": "object",
      "properties": {
        "chat": { "type": "boolean" },
        "actions": { "type": "boolean" },
        "codegen": { "type": "boolean" },
        "assistant": { "type": "boolean" },
        "ragContext": { "type": "boolean" },
        "streaming": { "type": "boolean" }
      }
    },
    "ai": {
      "type": "object",
      "properties": {
        "defaultProvider": { 
          "type": "string", 
          "enum": ["ollama", "openai", "claude"] 
        },
        "ragEnabled": { "type": "boolean" },
        "maxContextTokens": { "type": "integer" },
        "temperature": { "type": "number", "minimum": 0, "maximum": 2 },
        "systemPrompt": { "type": "string" }
      }
    }
  },
  "additionalProperties": true
}
